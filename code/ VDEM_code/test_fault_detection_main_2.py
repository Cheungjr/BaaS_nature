#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ENGG1811 Asssignment 1 (23T3) 

You can use this file to test your fault_detection_main(). 

There is only one test in this file with 4 measurements each time. 

You can use this file to come out with additional tests. 
"""

# %% import 
import fault_detection_main as detect

# %% Test data
measurements_normal_all = \
          [[  55.42, 2087.43,    1.07,   83.84],
           [  53.07, 2166.54,    0.96,   90.34],
           [  56.01, 2140.05,    1.13,   80.26],
           [  54.88, 2062.47,    0.87,  102.18],
           [  50.66, 2166.45,    0.81,  103.9 ],
           [  56.83, 2160.95,    0.84,  109.37],
           [  55.33, 2077.5 ,    1.09,   81.9 ],
           [  55.5 , 2057.67,    0.98,   90.67],
           [  50.9 , 2136.5 ,    0.86,   97.38],
           [  53.15, 2027.95,    1.  ,   86.26],
           [  52.6 , 2039.98,    0.86,   99.54],
           [  56.49, 2001.47,    1.08,   83.59],
           [  54.51, 2157.38,    0.98,   90.58],
           [  55.76, 2132.97,    0.95,   94.5 ],
           [  53.1 , 2141.03,    0.92,   94.35],
           [  51.59, 2156.15,    1.05,   80.91],
           [  53.88, 2091.78,    0.94,   92.65],
           [  50.45, 2113.75,    0.84,  100.02],
           [  55.79, 2027.96,    0.85,  105.6 ],
           [  54.42, 2022.91,    1.18,   74.1 ],
           [  55.31, 2133.68,    1.16,   76.9 ],
           [  52.48, 2094.22,    1.08,   79.51],
           [  56.79, 2113.05,    0.91,  100.55],
           [  56.25, 2153.  ,    1.19,   76.37],
           [  55.45, 2126.94,    1.11,   80.61],
           [  51.36, 2110.72,    1.09,   77.85],
           [  53.27, 2111.84,    0.98,   88.69],
           [  50.31, 2060.79,    0.91,   91.39],
           [  51.08, 2006.16,    0.84,   99.8 ],
           [  54.78, 2087.34,    1.16,   76.29],
           [  55.21, 2042.92,    0.98,   90.46],
           [  56.77, 2081.71,    0.88,  103.23],
           [  52.28, 2170.68,    0.92,   93.27],
           [  52.59, 2046.79,    1.03,   83.1 ],
           [  53.29, 2011.66,    0.87,   99.2 ],
           [  51.33, 2056.28,    1.14,   73.75],
           [  50.91, 2058.72,    1.1 ,   75.93],
           [  53.33, 2132.38,    1.09,   80.06],
           [  51.59, 2111.41,    0.97,   87.25],
           [  54.69, 2156.78,    1.05,   84.54]]

measurements_over_time = \
      [[  54.09, 2034.12,    0.99,   83.53],
       [  54.55, 2185.02,    1.  ,   84.7 ],
       [  50.59, 2116.21,    1.18,   67.67],
       [  52.91, 2069.37,    1.03,   79.64],
       [  50.29, 2118.18,    0.99,   84.25],
       [  53.46, 2004.56,    0.91,   95.43],
       [  52.31, 2191.71,    0.93,   92.4 ],
       [  51.01, 2096.46,    1.01,   83.42],
       [  50.72, 2156.55,    0.98,   86.19],
       [  54.11, 2016.55,    0.81,  108.07]]
    
time_list = [15.42, 20.92, 26.04, 31.72, 36.75, 42.31, 47.38, 52.51, 58.,
             63.03]  

weights = [1.1, 1, 1, 2.1]

threshold = 14.6

expected_answer = 15.81
# %% 

your_answer = detect.fault_detection_main(time_list, measurements_over_time, 
                  measurements_normal_all, weights, threshold)

print('Your function returns',your_answer)
print('The expected answer is',expected_answer)

TOL = 1e-3 

try:    
    if abs(your_answer - expected_answer) < TOL:
        print('Your answer is correct')
    else:
        print('Your answer is NOT correct')  
except:
    print('Your answer is NOT correct.')
    print('Posssibly because your answer is not a number.')


